## 가상메모리

* 메모리는 계층 형태로 구성되어 있다.
  * 하드 디스크 <-> 메인 메모리 <-> L2 캐쉬 <-> L1 캐쉬 <-> 레지스터
  * 계층간의 데이터 이동은 블록 단위 ( 원하는 데이터 + 주변 데이터 )로 이루어 진다.  
* 프로그램의 흐름은 지역적인 특성을 갖고 있다. 따라서 캐쉬를 할 수 있다.
* 가상메모리 : CPU에서 운용하기에 메인 메모리로는 부족 할 때 하드디스크까지 메모리의 영역을 넓히는것
  * OS에서는 프로세스에게 동작하기 위해 필요한 메모리를 할당을 하는데, OS가 동작하기 위한 메모리 + 프로세스 자체의 메모리
  * MMU( Memory Management Unit )
  * 메인 메모리를 가상 메모리의 캐쉬 형태로 사용 한다.
  * 새로운 메모리를 메인 메모리로 올릴때 기존에 있던것들중 가장 오래된 것을 가상 메모리로 옮기고, 할당 해 준다.
    * 가상 메모리로 저장되는 데이터를 스왑파일 형태로 저장한다.
* 가상 메모리 Control
  * 가상 메모리는 3개의 상태를 갖는다.
    * Commit : 물리 메모리와 연결된 상태 ( 메모리 할당 된 상태 )
    * Reserve : 물리 메모리와 연결은 안되어 있고, 나중에 사용할 것으로 체크해 둔 상태
    * Free : 물리 메모리와 연결되지 않은 상태 ( 메모리 할당이 안된 상태)
  * 메모리 할당은 Page단위로 이루어 진다. 이때 할당될 시작점은 Allocation Granularity Boundary 기준으로 설정
    * 메모리 할당을 할 땐 필요한 양의 Page보다 약간 더 크게 할당 한다
      * 단편화를 막기 위해서
* Heap 메모리 Control
  * Default Heap : OS에 의해서 Process에게 기본적으로 할당되는 Heap
  * Dynamic Heap : 개발자에 의해서 추가 적으로 할당되는 Heap

    


  
